<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youtube動画リスト</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            height: 100vh;
            margin: 0;
        }
        header {
            background-color: #333;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
        }
        #video-player {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
        }
        #video-player iframe {
            width: 100%;
            height: 100%;
            max-height: 50vh;
        }
        #video-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #f9f9f9;
        }
        .category {
            margin: 10px 0;
            cursor: pointer;
            font-weight: bold;
            background-color: #ddd;
            padding: 5px;
            border-radius: 5px;
        }
        .subcategory {
            margin-left: 10px;
            display: none;
        }
        .video-item {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 5px;
            border-bottom: 1px solid #ddd;
            background-color: #fff;
        }
        .video-item input {
            margin-right: 10px;
        }
        .video-item span.checked {
            text-decoration: line-through;
            color: gray;
        }
        .video-item:hover {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <header>
        Youtube動画リスト
    </header>    <div id="video-player">
        <iframe id="youtube-frame" src="https://www.youtube.com/embed/1YrqNWNMrmE" frameborder="0" allowfullscreen></iframe>
    </div>
    <div id="video-list">
        <button id="toggle-checked"></button>
        <div id="videos"></div>
    </div>
    
    <script>
        const videoCategories = {
            "1.戦略の考え方": [
  { id: "1YrqNWNMrmE?start=64", title: "001 戦略的意思決定" },
  { id: "1YrqNWNMrmE?start=16", title: "002 管理的意思決定" },
  { id: "1YrqNWNMrmE?start=32", title: "003 業務的意思決定" },
  { id: "1YrqNWNMrmE?start=48", title: "004 共同意思決定" },
  { id: "1YrqNWNMrmE?start=64", title: "005 経営理念" },
  { id: "1YrqNWNMrmE?start=81", title: "006 ビジョン" },
  { id: "1YrqNWNMrmE?start=96", title: "007 経営計画" },
  { id: "1YrqNWNMrmE?start=113", title: "008 企業戦略" },
  { id: "1YrqNWNMrmE?start=131", title: "009 機能戦略" },
  { id: "1YrqNWNMrmE?start=148", title: "010 事業戦略" },
  { id: "1YrqNWNMrmE?start=166", title: "011 3C分析" },
  { id: "1YrqNWNMrmE?start=185", title: "012 PEST分析" },
  { id: "1YrqNWNMrmE?start=206", title: "013 コア・コンピタンス" },
  { id: "1YrqNWNMrmE?start=221", title: "014 ダイナミック・ケイパビリティ" },
  { id: "1YrqNWNMrmE?start=238", title: "015 VRIOフレームワーク" },
  { id: "1YrqNWNMrmE?start=256", title: "016 希少性" },
  { id: "1YrqNWNMrmE?start=271", title: "017 模倣困難性" },
  { id: "1YrqNWNMrmE?start=288", title: "018 競争優位の源泉" },
  { id: "1YrqNWNMrmE?start=305", title: "019 参入障壁" },
  { id: "1YrqNWNMrmE?start=321", title: "020 経路依存性" },
  { id: "1YrqNWNMrmE?start=337", title: "021 持続的競争優位" },
  { id: "1YrqNWNMrmE?start=352", title: "022 先行者優位性" },
  { id: "1YrqNWNMrmE?start=369", title: "023 外的な成長誘引" },
  { id: "1YrqNWNMrmE?start=386", title: "024 内的な成長誘引" }
      ],
  "2. 企業戦略": [
  { id: "1YrqNWNMrmE?start=405", title: "025 企業ドメイン" },
  { id: "1YrqNWNMrmE?start=422", title: "026 事業ドメイン" },
  { id: "1YrqNWNMrmE?start=438", title: "027 事業ポートフォリオ" },
  { id: "1YrqNWNMrmE?start=456", title: "028 戦略事業単位" },
  { id: "1YrqNWNMrmE?start=473", title: "029 アンゾフの成長ベクトル" },
  { id: "1YrqNWNMrmE?start=495", title: "030 エーベルの3次元" },
  { id: "1YrqNWNMrmE?start=513", title: "031 多角化" },
  { id: "1YrqNWNMrmE?start=531", title: "032 関連型多角化" },
  { id: "1YrqNWNMrmE?start=549", title: "033 非関連型多角化" },
  { id: "1YrqNWNMrmE?start=568", title: "034 PPM" },
  { id: "1YrqNWNMrmE?start=590", title: "035 ゴーイングコンサーン" },
  { id: "1YrqNWNMrmE?start=608", title: "036 近視眼的学習" },
  { id: "1YrqNWNMrmE?start=628", title: "037 両利きの経営" },
  { id: "1YrqNWNMrmE?start=647", title: "038 M&A" },
  { id: "1YrqNWNMrmE?start=667", title: "039 垂直統合" },
  { id: "1YrqNWNMrmE?start=686", title: "040 水平統合" },
  { id: "1YrqNWNMrmE?start=706", title: "041 PMI" },
  { id: "1YrqNWNMrmE?start=725", title: "042 デューデリジェンス" },
  { id: "1YrqNWNMrmE?start=744", title: "043 TOB" },
  { id: "1YrqNWNMrmE?start=761", title: "044 LBO" },
  { id: "1YrqNWNMrmE?start=781", title: "045 MBO" },
  { id: "1YrqNWNMrmE?start=797", title: "046 MBI" },
  { id: "1YrqNWNMrmE?start=816", title: "047 負ののれん" },
  { id: "1YrqNWNMrmE?start=838", title: "048 ポイズンピル" },
  { id: "1YrqNWNMrmE?start=859", title: "049 ホワイトナイト" },
  { id: "1YrqNWNMrmE?start=879", title: "050 クラウンジュエル" },
  { id: "vF1Puswyd_o?start=0", title: "051 ゴールデンパラシュート" },
  { id: "vF1Puswyd_o?start=17", title: "052 サメよけ(シャーク・リペラント)" },
  { id: "vF1Puswyd_o?start=35", title: "053 カーブアウト" },
  { id: "vF1Puswyd_o?start=53", title: "054 スピンオフ" },
  { id: "vF1Puswyd_o?start=72", title: "055 スピンアウト" },
  { id: "vF1Puswyd_o?start=88", title: "056 コントロール・プレミアム" },
  { id: "vF1Puswyd_o?start=105", title: "057 プライベート・エクイテイ" },
  { id: "vF1Puswyd_o?start=122", title: "058 規模の経済" },
  { id: "vF1Puswyd_o?start=140", title: "059 範囲の経済" },
  { id: "vF1Puswyd_o?start=158", title: "060 経験曲線効果" },
  { id: "vF1Puswyd_o?start=176", title: "061 習熟効果" },
  { id: "vF1Puswyd_o?start=194", title: "062 戦略的提携" },
  { id: "vF1Puswyd_o?start=212", title: "063 相乗効果" },
  { id: "vF1Puswyd_o?start=230", title: "064 相補効果" },
  { id: "vF1Puswyd_o?start=250", title: "065 シナジー効果" },
  { id: "vF1Puswyd_o?start=268", title: "066 エフェクチュエーション" },
  { id: "vF1Puswyd_o?start=289", title: "067 手中の鳥の原則" },
  { id: "vF1Puswyd_o?start=308", title: "068 飛行機の中のパイロットの原則" },
  { id: "vF1Puswyd_o?start=328", title: "069 許容可能な損失の原則" },
  { id: "vF1Puswyd_o?start=348", title: "070 クレイジーキルトの原則" },
  { id: "vF1Puswyd_o?start=367", title: "071 レモネードの原則" },
  { id: "vF1Puswyd_o?start=388", title: "072 創発的戦略" },
  { id: "vF1Puswyd_o?start=388", title: "073 意図的戦略" },
  { id: "vF1Puswyd_o?start=428", title: "074 MFTフレーム" },
  { id: "vF1Puswyd_o?start=449", title: "075 経営と所有の分離" },
  { id: "vF1Puswyd_o?start=470", title: "076 シックス・シグマ" },
  { id: "vF1Puswyd_o?start=492", title: "077 見えざる資産" },
  { id: "vF1Puswyd_o?start=511", title: "078 取引コスト理論" }
            ],
  "3. 競争戦略": [
  { id: "vF1Puswyd_o?start=532", title: "079 リソース・ベースド・ビュー" },
  { id: "vF1Puswyd_o?start=551", title: "080 KSF" },
  { id: "vF1Puswyd_o?start=568", title: "081 ファイブフォース分析" },
  { id: "vF1Puswyd_o?start=589", title: "082 参入障壁" },
  { id: "vF1Puswyd_o?start=605", title: "083 退出障壁" },
  { id: "vF1Puswyd_o?start=624", title: "084 スイッチングコスト" },
  { id: "vF1Puswyd_o?start=642", title: "085 競争地位別戦略" },
  { id: "vF1Puswyd_o?start=663", title: "086 コストリーダーシップ戦略" },
  { id: "vF1Puswyd_o?start=683", title: "087 差別化戦略" },
  { id: "vF1Puswyd_o?start=701", title: "088 集中戦略" },
  { id: "vF1Puswyd_o?start=720", title: "089 デファクトスタンダード" },
  { id: "vF1Puswyd_o?start=737", title: "090 デジュリススタンダード" },
  { id: "vF1Puswyd_o?start=754", title: "091 ブルーオーシャン戦略" },
  { id: "vF1Puswyd_o?start=775", title: "092 アウトソーシング" },
  { id: "vF1Puswyd_o?start=793", title: "093 BPR" },
  { id: "vF1Puswyd_o?start=814", title: "094 リストラクチャリング" }
            ],
  "4. 技術経営(MOT)": [
  { id: "vF1Puswyd_o?start=834", title: "095 イノベーションのジレンマ" },
  { id: "vF1Puswyd_o?start=855", title: "096 成功の復讐" },
  { id: "vF1Puswyd_o?start=874", title: "097 オープン・イノベーション" },
  { id: "vF1Puswyd_o?start=894", title: "098 アーキテクチャ・イノベーション" },
  { id: "vF1Puswyd_o?start=914", title: "099 インクリメンタル・イノベーション" },
  { id: "vF1Puswyd_o?start=936", title: "100 ラディカル・イノベーション" },
  { id: "jHb7Jo2Gq1U?start=0", title: "101 モジュラー・イノベーション" },
  { id: "jHb7Jo2Gq1U?start=19", title: "102 ユーザーイノベーション" },
  { id: "jHb7Jo2Gq1U?start=38", title: "103 ジョイントベンチャー" },
  { id: "jHb7Jo2Gq1U?start=56", title: "104 インテグラル型アーキテクチャ" },
  { id: "jHb7Jo2Gq1U?start=74", title: "105 モジュラー型アーキテクチャ" },
  { id: "jHb7Jo2Gq1U?start=93", title: "106 キャズム理論" },
  { id: "jHb7Jo2Gq1U?start=113", title: "107 イノベーター" },
  { id: "jHb7Jo2Gq1U?start=129", title: "108 アーリーアダプター" },
  { id: "jHb7Jo2Gq1U?start=147", title: "109 アーリーマジョリティ" },
  { id: "jHb7Jo2Gq1U?start=166", title: "110 レイトマジョリティ" },
  { id: "jHb7Jo2Gq1U?start=183", title: "111 ラガード" },
  { id: "jHb7Jo2Gq1U?start=201", title: "112 ステージ・ゲート" },
  { id: "jHb7Jo2Gq1U?start=222", title: "113 デビルリバー" },
  { id: "jHb7Jo2Gq1U?start=241", title: "114 デスバレー" },
  { id: "jHb7Jo2Gq1U?start=262", title: "115 ダーウィンの海" },
  { id: "jHb7Jo2Gq1U?start=282", title: "116 S字型曲線" },
  { id: "jHb7Jo2Gq1U?start=303", title: "117 タイムベース競争" },
  { id: "jHb7Jo2Gq1U?start=322", title: "118 プラットフォーム戦略" },
  { id: "jHb7Jo2Gq1U?start=344", title: "119 プロパテント戦略" },
  { id: "jHb7Jo2Gq1U?start=364", title: "120 プロトタイピング" },
  { id: "jHb7Jo2Gq1U?start=383", title: "121 バウンダリー・スパンニング" },
  { id: "jHb7Jo2Gq1U?start=401", title: "122 コンカレント・エンジニアリング" },
  { id: "jHb7Jo2Gq1U?start=422", title: "123 フロントローディング" },
  { id: "jHb7Jo2Gq1U?start=442", title: "124 リーンスタートアップ" },
  { id: "jHb7Jo2Gq1U?start=462", title: "125 リーンキャンバス" },
  { id: "jHb7Jo2Gq1U?start=484", title: "126 リエンジニアリング" },
  { id: "jHb7Jo2Gq1U?start=502", title: "127 リバース・イノベーション" },
  { id: "jHb7Jo2Gq1U?start=522", title: "128 リバース・エンジニアリング" },
  { id: "jHb7Jo2Gq1U?start=542", title: "129 破壊的技術" },
  { id: "jHb7Jo2Gq1U?start=562", title: "130 補完的資産" },
  { id: "jHb7Jo2Gq1U?start=583", title: "131 オペレーショナル・エクセレンス" },
  { id: "jHb7Jo2Gq1U?start=603", title: "132 カスタマー・インティマシー" },
  { id: "jHb7Jo2Gq1U?start=624", title: "133 ファブレス" },
  { id: "jHb7Jo2Gq1U?start=645", title: "134 EMS" },
  { id: "jHb7Jo2Gq1U?start=662", title: "135 ファウンドリ" },
  { id: "jHb7Jo2Gq1U?start=680", title: "136 OEM" },
  { id: "jHb7Jo2Gq1U?start=698", title: "137 A-U モデル" }
            ],
  "5. 国際経営戦略": [
  { id: "jHb7Jo2Gq1U?start=717", title: "138 クロスボーダー企業買収" },
  { id: "jHb7Jo2Gq1U?start=736", title: "139 ジョイントベンチャ" },
  { id: "jHb7Jo2Gq1U?start=757", title: "140 グローバル" },
  { id: "jHb7Jo2Gq1U?start=775", title: "141 マルチナショナル" },
  { id: "jHb7Jo2Gq1U?start=795", title: "142 インターナショナル" },
  { id: "jHb7Jo2Gq1U?start=814", title: "143 トランスナショナル" },
  { id: "jHb7Jo2Gq1U?start=832", title: "144 オープンライセンス" },
  { id: "jHb7Jo2Gq1U?start=849", title: "145 包括クロスライセンス契約" },
  { id: "jHb7Jo2Gq1U?start=868", title: "146 ライセンシング" },
  { id: "jHb7Jo2Gq1U?start=888", title: "147 独占的ライセンシング" },
  { id: "jHb7Jo2Gq1U?start=907", title: "148 ポリセントリック企業" },
  { id: "jHb7Jo2Gq1U?start=926", title: "149 エスノセントリック企業" },
  { id: "jHb7Jo2Gq1U?start=945", title: "150 ジオセントリック企業" },
  { id: "w1dLeBKu-4s?start=0", title: "151 I-R フレームワーク" }
      ],
  "6. 企業の社会的責任": [
  { id: "w1dLeBKu-4s?start=20", title: "152 CSR" },
  { id: "w1dLeBKu-4s?start=39", title: "153 CSV" },
  { id: "w1dLeBKu-4s?start=58", title: "154 ISO26000" },
  { id: "w1dLeBKu-4s?start=77", title: "155 コーポレート・ガバナンス" },
  { id: "w1dLeBKu-4s?start=97", title: "156 SDGs" },
  { id: "w1dLeBKu-4s?start=118", title: "157 SDGs 経営" },
  { id: "w1dLeBKu-4s?start=139", title: "158 環境経営" },
  { id: "w1dLeBKu-4s?start=159", title: "159 ESG投資" },
  { id: "w1dLeBKu-4s?start=177", title: "160 インパクト投資" },
  { id: "w1dLeBKu-4s?start=195", title: "161 ダイベストメント" },
  { id: "w1dLeBKu-4s?start=214", title: "162 グリーンウォッシュ" },
  { id: "w1dLeBKu-4s?start=234", title: "163 ホワイトウォッシュ" },
  { id: "w1dLeBKu-4s?start=253", title: "164 クライシス・マネジメント" },
  { id: "w1dLeBKu-4s?start=276", title: "165 コンティンジェンシー・プラン" },
  { id: "w1dLeBKu-4s?start=295", title: "166 ソサイエタル・マーケティング" },
  { id: "w1dLeBKu-4s?start=318", title: "167 フィランソロピー" },
  { id: "w1dLeBKu-4s?start=336", title: "168 マッチング・ギフト" },
  { id: "w1dLeBKu-4s?start=355", title: "169 事業継続計画 (BCP)" },
  { id: "w1dLeBKu-4s?start=380", title: "170 社会的責任ピラミッド" },
  { id: "w1dLeBKu-4s?start=403", title: "171 投資事業有限責任組合" }
      ],
  "7. ファミリービジネスの戦略": [
  { id: "w1dLeBKu-4s?start=425", title: "172 4Cモデル" },
  { id: "w1dLeBKu-4s?start=450", title: "173 スリー・サークル・モデル" },
  { id: "w1dLeBKu-4s?start=474", title: "174 パラレル・プランニング・プロセス・モデル" }
      ],
  "8. 組織の考え方": [
  { id: "w1dLeBKu-4s?start=499", title: "175 組織コミットメント" },
  { id: "w1dLeBKu-4s?start=517", title: "176 フィードバック・システム" },
  { id: "w1dLeBKu-4s?start=535", title: "177 フィードフォワード・システム" },
  { id: "w1dLeBKu-4s?start=552", title: "178 機械的管理システム" },
  { id: "w1dLeBKu-4s?start=572", title: "179 オープンループ・システム" },
  { id: "w1dLeBKu-4s?start=590", title: "180 カニバリゼーション" },
  { id: "w1dLeBKu-4s?start=606", title: "181 貢献意欲" },
  { id: "w1dLeBKu-4s?start=624", title: "182 集権化" },
  { id: "w1dLeBKu-4s?start=643", title: "183 スパン・オブ・コントロール" },
  { id: "w1dLeBKu-4s?start=662", title: "184 クロス・ファンクショナル・チーム" },
  { id: "w1dLeBKu-4s?start=681", title: "185 タスクフォース" },
  { id: "w1dLeBKu-4s?start=699", title: "186 バーチャルチーム" },
  { id: "w1dLeBKu-4s?start=717", title: "187 プロジェクトチーム" },
  { id: "w1dLeBKu-4s?start=735", title: "188 組織のコンティンジェンシー理論" }
  ],
  "9. 組織構造の形態": [
  { id: "w1dLeBKu-4s?start=755", title: "189 7S" },
  { id: "w1dLeBKu-4s?start=780", title: "190 カンパニー制組織" },
  { id: "w1dLeBKu-4s?start=800", title: "191 マトリックス組織" },
  { id: "w1dLeBKu-4s?start=821", title: "192 ライン組織" },
  { id: "w1dLeBKu-4s?start=841", title: "193 機能別組織" },
  { id: "w1dLeBKu-4s?start=864", title: "194 事業部制組織" },
  { id: "w1dLeBKu-4s?start=886", title: "195 多能工化" },
  { id: "w1dLeBKu-4s?start=906", title: "196 調整メカニズム" },
  { id: "w1dLeBKu-4s?start=926", title: "197 官僚制の逆機能" },
  { id: "w1dLeBKu-4s?start=946", title: "198 形式主義" },
  { id: "w1dLeBKu-4s?start=966", title: "199 慇懃無礼" },
  { id: "w1dLeBKu-4s?start=981", title: "200 目的の置換" },
  { id: "WlTn2UDtni4?start=0", title: "201 セクショナリズム" }
    ],
    "10. 組織文化": [
  { id: "WlTn2UDtni4?start=20", title: "202 ハイアラーキー文化" },
  { id: "WlTn2UDtni4?start=39", title: "203 クラン文化" },
  { id: "WlTn2UDtni4?start=60", title: "204 マーケット文化" },
  { id: "WlTn2UDtni4?start=80", title: "205 アドホクラシー文化" },
  { id: "WlTn2UDtni4?start=99", title: "206 ティール組織" },
  { id: "WlTn2UDtni4?start=119", title: "207 組織アイデンティティ" },
  { id: "WlTn2UDtni4?start=138", title: "208 組織文化の逆機能" },
  { id: "WlTn2UDtni4?start=159", title: "209 斉一性の圧力" },
  { id: "WlTn2UDtni4?start=177", title: "210 シャインの組織文化論" },
  { id: "WlTn2UDtni4?start=198", title: "211 カウンターカルチャー" },
  { id: "WlTn2UDtni4?start=220", title: "212 成熟・未成熟理論" },
  { id: "WlTn2UDtni4?start=243", title: "213 X理論" },
  { id: "WlTn2UDtni4?start=264", title: "214 Y理論" },
  { id: "WlTn2UDtni4?start=286", title: "215 動機づけ・衛生理論" },
  { id: "WlTn2UDtni4?start=305", title: "216 達成動機説" },
  { id: "WlTn2UDtni4?start=323", title: "217 内発的動機づけ" },
  { id: "WlTn2UDtni4?start=341", title: "218 外発的動機づけ" },
  { id: "WlTn2UDtni4?start=360", title: "219 マクレランドの三欲求理論" },
  { id: "WlTn2UDtni4?start=380", title: "220 職務特性モデル" },
  { id: "WlTn2UDtni4?start=400", title: "221 ギグエコノミー" },
  { id: "WlTn2UDtni4?start=419", title: "222 カッツの3能力" },
  { id: "WlTn2UDtni4?start=439", title: "223 キャリア・アンカー" },
  { id: "WlTn2UDtni4?start=457", title: "224 コーピング" },
  { id: "WlTn2UDtni4?start=477", title: "225 ストレイン" },
  { id: "WlTn2UDtni4?start=492", title: "226 ストレッサー" },
  { id: "WlTn2UDtni4?start=508", title: "227 ビッグファイブ" },
  { id: "WlTn2UDtni4?start=531", title: "228 代表性ヒューリスティック" },
  { id: "WlTn2UDtni4?start=552", title: "229 無関心圏" },
  { id: "WlTn2UDtni4?start=572", title: "230 利用可能性ヒューリスティック" },
  { id: "WlTn2UDtni4?start=592", title: "231 ローカス・オブ・コントロール" },
  { id: "WlTn2UDtni4?start=617", title: "232 マズローの欲求段階論" },
  { id: "WlTn2UDtni4?start=642", title: "233 ERG 理論" },
  { id: "WlTn2UDtni4?start=662", title: "234 期待理論" },
  { id: "WlTn2UDtni4?start=681", title: "235 公平理論" },
  { id: "WlTn2UDtni4?start=703", title: "236 目標設定理論" },
  { id: "WlTn2UDtni4?start=723", title: "237 グループシフト" },
  { id: "WlTn2UDtni4?start=745", title: "238 グループシンク" },
  { id: "WlTn2UDtni4?start=766", title: "239 リスキーシフト" },
  { id: "WlTn2UDtni4?start=785", title: "240 コーシャスシフト" },
  { id: "WlTn2UDtni4?start=805", title: "241 グループダイナミクス" },
  { id: "WlTn2UDtni4?start=827", title: "242 コンフリクト" },
  { id: "WlTn2UDtni4?start=847", title: "243 プールされた相互依存" },
  { id: "WlTn2UDtni4?start=874", title: "244 権限委譲" },
  { id: "WlTn2UDtni4?start=894", title: "245 社会的手抜き" },
  { id: "WlTn2UDtni4?start=913", title: "246 集団の凝集性" },
  { id: "WlTn2UDtni4?start=931", title: "247 集団圧力" },
  { id: "WlTn2UDtni4?start=948", title: "248 パワーの源泉" },
  { id: "WlTn2UDtni4?start=968", title: "249 正当権力" },
  { id: "WlTn2UDtni4?start=984", title: "250 専門力" } 
]      
        };
      
        const videoListContainer = document.getElementById("videos");
        const youtubeFrame = document.getElementById("youtube-frame");
        const toggleCheckedButton = document.getElementById("toggle-checked");
        let showChecked = true;

        function loadChecklist() {
            return JSON.parse(localStorage.getItem("videoChecklist")) || {};
        }

        function saveChecklist(checklist) {
            localStorage.setItem("videoChecklist", JSON.stringify(checklist));
        }

        function updateCheckedVisibility() {
            const checklist = loadChecklist();
            document.querySelectorAll(".video-item").forEach(item => {
                const checkbox = item.querySelector("input");
                if (!showChecked && checklist[checkbox.dataset.id]) {
                    item.style.display = "none";
                } else {
                    item.style.display = "flex";
                }
            });
            toggleCheckedButton.textContent = showChecked ? "チェック済みを非表示" : "チェック済みを表示";
        }

        function renderVideoList() {
            const checklist = loadChecklist();
            videoListContainer.innerHTML = "";
            videoListContainer.appendChild(toggleCheckedButton);

            Object.keys(videoCategories).forEach(category => {
                const categoryDiv = document.createElement("div");
                categoryDiv.className = "category";
                categoryDiv.textContent = category;

                const subcategoryDiv = document.createElement("div");
                subcategoryDiv.className = "subcategory";

                videoCategories[category].forEach(video => {
                    const videoItem = document.createElement("div");
                    videoItem.className = "video-item";

                    const checkbox = document.createElement("input");
                    checkbox.type = "checkbox";
                    checkbox.dataset.id = video.id;
                    checkbox.checked = checklist[video.id] || false;

                    const label = document.createElement("span");
                    label.textContent = video.title;
                    if (checkbox.checked) {
                        label.classList.add("checked");
                    }

                    videoItem.appendChild(checkbox);
                    videoItem.appendChild(label);
                    
                    videoItem.addEventListener("click", () => {
                        youtubeFrame.src = `https://www.youtube.com/embed/${video.id}`;
                    });
                    
                    checkbox.addEventListener("click", (event) => {
                        event.stopPropagation();
                        checklist[video.id] = event.target.checked;
                        saveChecklist(checklist);
                        label.classList.toggle("checked", event.target.checked);
                        updateCheckedVisibility();
                    });
                    
                    subcategoryDiv.appendChild(videoItem);
                });
                
                categoryDiv.addEventListener("click", () => {
                    subcategoryDiv.style.display = subcategoryDiv.style.display === "block" ? "none" : "block";
                });

                videoListContainer.appendChild(categoryDiv);
                videoListContainer.appendChild(subcategoryDiv);
            });
            updateCheckedVisibility();
        }

        toggleCheckedButton.addEventListener("click", () => {
            showChecked = !showChecked;
            updateCheckedVisibility();
        });
        
        renderVideoList();
    </script>
</body>
</html>
